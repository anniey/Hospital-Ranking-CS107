---
title: "HospitalRankings"
author: "Michael Zelenetz, Xiojing Yang"
date: "April 20, 2016"
output: html_document
---

Load data from local file:
```{r}
library(dplyr)
library(tidyr)
library(ggplot2)
#cost sets
paymentandvalue <- read.csv("https://github.com/anniey/Hospital-Ranking-CS107/blob/master/Raw%20Data/Payment_and_value_of_care_-_Hospital.csv") #national
inpatientcost <- read.csv("https://github.com/anniey/Hospital-Ranking-CS107/blob/master/Raw%20Data/Hospital_Inpatient_Cost_Transparency__Beginning_2009.csv") #NYS

#risk of badness sets
PCIbyhosptial <- read.csv("https://github.com/anniey/Hospital-Ranking-CS107/blob/master/Raw%20Data/Cardiac_Surgery_and_Percutaneous_Coronary_Interventions_by_Hospital___Beginning_2008.csv") #NYS
hospitalinfection <- read.csv("https://github.com/anniey/Hospital-Ranking-CS107/blob/master/Raw%20Data/Hospital-Acquired_Infections__Beginning_2008.csv") #NYS
complicationshospital <- read.csv("https://github.com/anniey/Hospital-Ranking-CS107/blob/master/Raw%20Data/Readmissions_Complications_and_Deaths_-_Hospital.csv") #national

###NOTE: make change the hcahps score so it's read from the web
#service
#hcahps <- read.csv("~/Documents/Harvard/CS107 Big Data/Final Project/Patient_survey__HCAHPS__-_Hospital.csv") #national
timely <- read.csv("https://github.com/anniey/Hospital-Ranking-CS107/blob/master/Raw%20Data/Timely_and_Effective_Care_-_Hospital.csv") #national

#readmisisons
readmission <- read.csv("https://github.com/anniey/Hospital-Ranking-CS107/blob/master/Raw%20Data/Hospital_Readmissions_Reduction_Program.csv") #national 

p
```

##Wrangling
Limit Data Sets to NYS only:
```{r}
paymentandvalue <- paymentandvalue %>% filter(State=="NY")s
complicationshospital <- complicationshospital %>% filter(State=="NY")
hcahps <- hcahps %>% filter(State=="NY")
timely <- timely %>% filter(State=="NY")
readmission <- readmission %>% filter(State=="NY")
mortality <- mortality %>% filter(State=="NY")
```

Cost set
```{r}
names(inpatientcost)[3] <- "Hospital.name"
temp<- 
cost <- left_join(inpatientcost, paymentandvalue)

```

